var mysql = require('mysql');
var connPool = [];

function connect()
{
	var connection = mysql.createConnection({
		host     : 'localhost',
		user     : 'root',
		password : 'Dhawal@2014',
		port: '3306',
		database: 'ebay'
	});

	connection.connect();

	return connection;
}

function initializepool(connections)
{
	console.log("Entered");
	for (var i = 0; i < connections; i++)
	{
		connPool.push(connect());
	}
}

function getConnection()
{
	if(connPool.length >=1 )
	{
		return connPool.pop();
	}
}

function returnConnection(connection)
{
	connPool.push(connection);
}

exports.initializepool = initializepool;
exports.getConnection = getConnection;
exports.returnConnection = returnConnection;